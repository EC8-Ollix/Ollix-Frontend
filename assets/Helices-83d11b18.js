import{u as H}from"./useNavigation-8727155d.js";import{d as N,J as O,r as m,y as R,z as k,e as V,n as $,_ as q,g as s,o as i,h as S,l as b,k as B,c as _,w as d,L as E,F as h,i as v,j as f,v as p,O as D,p as F,m as M}from"./index-b8c5aaf6.js";import{S as T}from"./SmileOutlined-e43e89f6.js";const U=N({name:"Helices",components:{SmileOutlined:T},props:{clientId:{type:String},viaClientScreen:{type:Boolean,required:!0}},setup(e){const{goBack:l}=H(),{clientId:y}=O(e),z=m(0),C=[{title:"CEP",dataIndex:"postalCode",width:"5%"},{title:"Rua",dataIndex:"street",width:"30%"},{title:"Bairro",dataIndex:"neighborhood",width:"25%"},{title:"Cidade",dataIndex:"cityState",width:"25%"},{title:"Qtd. de Hélices",dataIndex:"propellersCount",width:"10%"},{title:"Ações",dataIndex:"actions",width:"5%"}],I=m(["5","10","20","40","50"]),r=m([]),c=m(!1),t=m({page:1,pageSize:10}),g=async()=>{var o;c.value=!0;const n={...t.value};y.value&&(n.clientId=y.value);try{const a=await V.get("/propellers/propeller-adresses",{params:n});r.value=a.data.data,t.value.page=a.data.page,t.value.pageSize=a.data.pageSize,z.value=a.data.totalRecords}catch(a){let w=(o=a==null?void 0:a.response)==null?void 0:o.data;$(w)}finally{c.value=!1}};return R(g),k(t,g,{deep:!0}),k(()=>e.clientId,n=>{n&&g()},{immediate:!0}),{goBack:l,data:r,loading:c,pagination:t,columns:C,onShowSizeChange:(n,o)=>{t.value.page=n,t.value.pageSize=o,o!==(t==null?void 0:t.value.pageSize)&&(r.value=[])},pageSizeOptions:I,totalRecords:z}}});const j=e=>(F("data-v-143fab8a"),e=e(),M(),e),A={style:{"text-align":"center",padding:"25px"}},G=j(()=>v("p",null,"Nada encontrado",-1));function J(e,l,y,z,C,I){const r=s("a-page-header"),c=s("smile-outlined"),t=s("a-button"),g=s("a-table"),x=s("a-config-provider"),n=s("a-pagination"),o=s("a-layout-content");return i(),S(h,null,[e.viaClientScreen?B("",!0):(i(),b(r,{key:0,class:"pageHeader",title:"Hélices","sub-title":"Gerencie suas hélices aqui",onBack:e.goBack},null,8,["onBack"])),_(o,{style:E(e.viaClientScreen?{}:{margin:"10px 16px 25px"})},{default:d(()=>[v("div",{style:E(e.viaClientScreen?{}:{padding:"20px",background:"#fff"}),class:D({content:!e.viaClientScreen})},[_(x,null,{renderEmpty:d(()=>[v("div",A,[_(c,{style:{"font-size":"20px"}}),G])]),default:d(()=>[_(g,{columns:e.columns,"data-source":e.data,pagination:!1,loading:e.loading,size:"small"},{bodyCell:d(({column:a,text:w,record:u})=>[a.dataIndex==="postalCode"?(i(),S(h,{key:0},[f(p(u.address.postalCode),1)],64)):a.dataIndex==="street"?(i(),S(h,{key:1},[f(p(u.address.street),1)],64)):a.dataIndex==="neighborhood"?(i(),S(h,{key:2},[f(p(u.address.neighborhood),1)],64)):a.dataIndex==="cityState"?(i(),S(h,{key:3},[f(p(u.address.city)+"/"+p(u.address.state),1)],64)):a.dataIndex==="actions"?(i(),b(t,{key:4,size:"small"},{default:d(()=>[f("Hélices")]),_:1})):B("",!0)]),_:1},8,["columns","data-source","loading"])]),_:1}),_(n,{current:e.pagination.page,"onUpdate:current":l[0]||(l[0]=a=>e.pagination.page=a),pageSize:e.pagination.pageSize,"onUpdate:pageSize":l[1]||(l[1]=a=>e.pagination.pageSize=a),"page-size-options":e.pageSizeOptions,"show-size-changer":"",total:e.totalRecords,onShowSizeChange:e.onShowSizeChange,style:{"text-align":"right",margin:"25px 0 15px 0"}},{buildOptionText:d(a=>[v("span",null,p(a.value)+"/pág",1)]),_:1},8,["current","pageSize","page-size-options","total","onShowSizeChange"])],6)]),_:1},8,["style"])],64)}const K=q(U,[["render",J],["__scopeId","data-v-143fab8a"]]);export{K as default};
