import{u as H}from"./useNavigation-7fd3c0b2.js";import{d as N,D as R,r as S,y as O,z as k,e as V,n as $,_ as D,g as s,o as i,h as m,l as b,k as B,c as _,w as l,G as E,F as h,i as y,j as v,v as p,J as q,p as F,m as G}from"./index-56bca0b2.js";import{S as M}from"./SmileOutlined-bfaaf970.js";const T=N({name:"Helices",components:{SmileOutlined:M},props:{clientId:{type:String},viaClientScreen:{type:Boolean,required:!0}},setup(e){const{goBack:d}=H(),{clientId:f}=R(e),z=S(0),C=[{title:"CEP",dataIndex:"postalCode",width:"5%"},{title:"Rua",dataIndex:"street",width:"30%"},{title:"Bairro",dataIndex:"neighborhood",width:"25%"},{title:"Cidade",dataIndex:"cityState",width:"25%"},{title:"Qtd. de Hélices",dataIndex:"propellersCount",width:"10%"},{title:"Ações",dataIndex:"actions",width:"5%"}],I=S(["5","10","20","40","50"]),r=S([]),c=S(!1),t=S({page:1,pageSize:10}),g=async()=>{var o;c.value=!0;const n={...t.value};f.value&&(n.clientId=f.value);try{const a=await V.get("/propellers/propeller-adresses",{params:n});r.value=a.data.data,t.value.page=a.data.page,t.value.pageSize=a.data.pageSize,z.value=a.data.totalRecords}catch(a){let w=(o=a==null?void 0:a.response)==null?void 0:o.data;$(w)}finally{c.value=!1}};return O(g),k(t,g,{deep:!0}),k(()=>e.clientId,n=>{n&&g()},{immediate:!0}),{goBack:d,data:r,loading:c,pagination:t,columns:C,onShowSizeChange:(n,o)=>{t.value.page=n,t.value.pageSize=o,o!==(t==null?void 0:t.value.pageSize)&&(r.value=[])},pageSizeOptions:I,totalRecords:z}}});const U=e=>(F("data-v-70232ee5"),e=e(),G(),e),j={style:{"text-align":"center",padding:"25px"}},A=U(()=>y("p",null,"Nada encontrado",-1));function J(e,d,f,z,C,I){const r=s("a-page-header"),c=s("smile-outlined"),t=s("a-button"),g=s("a-table"),x=s("a-config-provider"),n=s("a-pagination"),o=s("a-layout-content");return i(),m(h,null,[e.viaClientScreen?B("",!0):(i(),b(r,{key:0,class:"pageHeader",title:"Hélices","sub-title":"Gerencie suas hélices aqui",onBack:e.goBack},null,8,["onBack"])),_(o,{style:E(e.viaClientScreen?{}:{margin:"10px 16px 25px"})},{default:l(()=>[y("div",{style:E(e.viaClientScreen?{}:{padding:"20px",background:"#fff"}),class:q({content:!e.viaClientScreen})},[_(x,null,{renderEmpty:l(()=>[y("div",j,[_(c,{style:{"font-size":"20px"}}),A])]),default:l(()=>[_(g,{columns:e.columns,"data-source":e.data,pagination:!1,loading:e.loading,size:"small"},{bodyCell:l(({column:a,text:w,record:u})=>[a.dataIndex==="postalCode"?(i(),m(h,{key:0},[v(p(u.address.postalCode),1)],64)):a.dataIndex==="street"?(i(),m(h,{key:1},[v(p(u.address.street),1)],64)):a.dataIndex==="neighborhood"?(i(),m(h,{key:2},[v(p(u.address.neighborhood),1)],64)):a.dataIndex==="cityState"?(i(),m(h,{key:3},[v(p(u.address.city)+"/"+p(u.address.state),1)],64)):a.dataIndex==="actions"?(i(),b(t,{key:4},{default:l(()=>[v("Hélices")]),_:1})):B("",!0)]),_:1},8,["columns","data-source","loading"])]),_:1}),_(n,{current:e.pagination.page,"onUpdate:current":d[0]||(d[0]=a=>e.pagination.page=a),pageSize:e.pagination.pageSize,"onUpdate:pageSize":d[1]||(d[1]=a=>e.pagination.pageSize=a),"page-size-options":e.pageSizeOptions,"show-size-changer":"",total:e.totalRecords,onShowSizeChange:e.onShowSizeChange,style:{"text-align":"right",margin:"25px 0 15px 0"}},{buildOptionText:l(a=>[y("span",null,p(a.value)+"/pág",1)]),_:1},8,["current","pageSize","page-size-options","total","onShowSizeChange"])],6)]),_:1},8,["style"])],64)}const L=D(T,[["render",J],["__scopeId","data-v-70232ee5"]]);export{L as default};
