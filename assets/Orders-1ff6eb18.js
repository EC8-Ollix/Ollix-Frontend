import{u as F}from"./useNavigation-8727155d.js";import{f as E}from"./dateHelper-d63eedb5.js";import{c as u,A as q,E as A,G as P,H as R,d as $,I as k,T as j,r as S,J as M,y as V,z as H,K as U,e as G,n as J,_ as L,g as r,o as c,h,l as C,k as B,w as l,L as D,F as b,i as O,j as y,v as _,M as Q,N as W,O as X,p as Y,m as Z}from"./index-b8c5aaf6.js";import{S as K}from"./SmileOutlined-e43e89f6.js";var ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};const te=ee;function N(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),i.forEach(function(s){ae(e,s,n[s])})}return e}function ae(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}var w=function(a,n){var i=N({},a,n.attrs);return u(q,N({},i,{icon:te}),null)};w.displayName="SyncOutlined";w.inheritAttrs=!1;const ne=w,oe={1:{color:"default",icon:null,text:"Pendente"},2:{color:"processing",icon:ne,text:"Instalação Pendente"},3:{color:"success",icon:A,text:"Finalizado"},4:{color:"error",icon:P,text:"Negado"},5:{color:"warning",icon:R,text:"Cancelado"}};function ie(e){return oe[e]}const se=$({name:"Orders",props:{clientId:{type:String},viaClientScreen:{type:Boolean,required:!0}},components:{FileTextOutlined:k,SmileOutlined:K,"a-table":j},setup(e){const{goBack:a}=F(),n=S(["5","10","20","40","50"]),i=S(0),s=S([]),m=S(!1),{clientId:f,viaClientScreen:I}=M(e),o=S({page:1,pageSize:10}),z=[{title:"Status",dataIndex:"orderStatus",width:"10%"},{title:"Cliente",dataIndex:"client",width:"20%"},{title:"Nome",dataIndex:"requesterName",width:"25%"},{title:"Email",dataIndex:"requesterEmail",width:"20%"},{title:"Data da Solicitação",dataIndex:"requestDate",width:"15%"},{title:"Qtd.",dataIndex:"quantityRequested",width:"5%"},{title:"Ações",dataIndex:"actions",width:"5%"}],v=async()=>{var d;m.value=!0;const p={...o.value};f.value&&(p.clientId=f.value);try{const t=await G.get("/orders",{params:p});s.value=t.data.data,o.value.page=t.data.page,o.value.pageSize=t.data.pageSize,i.value=t.data.totalRecords}catch(t){let T=(d=t==null?void 0:t.response)==null?void 0:d.data;J(T)}finally{m.value=!1}};return V(v),H(o,v,{deep:!0}),{goBack:a,data:s,loading:m,pagination:o,columns:z,onShowSizeChange:(p,d)=>{o.value.page=p,o.value.pageSize=d,d!==(o==null?void 0:o.value.pageSize)&&(s.value=[])},pageSizeOptions:n,totalRecords:i,formatStringDateToBR:E,getTagForOrderStatus:ie,FileTextOutlined:k,h:U}}});const re=e=>(Y("data-v-76393b65"),e=e(),Z(),e),le={style:{"text-align":"center",padding:"25px"}},de=re(()=>O("p",null,"Nada encontrado",-1)),ce={key:3};function ue(e,a,n,i,s,m){const f=r("a-page-header"),I=r("smile-outlined"),o=r("a-tag"),z=r("a-button"),v=r("a-table"),x=r("a-config-provider"),p=r("a-pagination"),d=r("a-layout-content");return c(),h(b,null,[e.viaClientScreen?B("",!0):(c(),C(f,{key:0,class:"pageHeader",title:"Pedidos","sub-title":"Analise os pedidos",onBack:e.goBack},null,8,["onBack"])),u(d,{style:D(e.viaClientScreen?{}:{margin:"10px 16px 25px"})},{default:l(()=>[O("div",{style:D(e.viaClientScreen?{}:{padding:"20px",background:"#fff"}),class:X({content:!e.viaClientScreen})},[u(x,null,{renderEmpty:l(()=>[O("div",le,[u(I,{style:{"font-size":"20px"}}),de])]),default:l(()=>[u(v,{columns:e.columns,"data-source":e.data,pagination:!1,loading:e.loading,size:"small"},{bodyCell:l(({column:t,text:T,record:g})=>[t.dataIndex==="requestDate"?(c(),h(b,{key:0},[y(_(e.formatStringDateToBR(g.requestDate)),1)],64)):t.dataIndex==="client"?(c(),h(b,{key:1},[y(_(g.clientApp.bussinessName),1)],64)):t.dataIndex==="orderStatus"?(c(),C(o,{key:2,color:e.getTagForOrderStatus(g.orderStatus).color},Q({default:l(()=>[y(" "+_(e.getTagForOrderStatus(g.orderStatus).text),1)]),_:2},[e.getTagForOrderStatus(g.orderStatus).icon?{name:"icon",fn:l(()=>[(c(),C(W(e.getTagForOrderStatus(g.orderStatus).icon)))]),key:"0"}:void 0]),1032,["color"])):t.dataIndex==="actions"?(c(),h("div",ce,[u(z,{icon:e.h(e.FileTextOutlined),href:"https://www.google.com",size:"small"},{default:l(()=>[y(" Visualizar ")]),_:1},8,["icon"])])):B("",!0)]),_:1},8,["columns","data-source","loading"])]),_:1}),u(p,{current:e.pagination.page,"onUpdate:current":a[0]||(a[0]=t=>e.pagination.page=t),pageSize:e.pagination.pageSize,"onUpdate:pageSize":a[1]||(a[1]=t=>e.pagination.pageSize=t),"page-size-options":e.pageSizeOptions,"show-size-changer":"",total:e.totalRecords,onShowSizeChange:e.onShowSizeChange,style:{"text-align":"right",margin:"25px 0 15px 0"}},{buildOptionText:l(t=>[O("span",null,_(t.value)+"/pág",1)]),_:1},8,["current","pageSize","page-size-options","total","onShowSizeChange"])],6)]),_:1},8,["style"])],64)}const fe=L(se,[["render",ue],["__scopeId","data-v-76393b65"]]);export{fe as default};
