import{u as A}from"./useNavigation-7fd3c0b2.js";import{c as g,A as N,C as E,B as F,E as P,d as q,T as R,r as S,D as $,y as j,z as V,e as M,n as H,_ as U,g as r,o as c,h as z,l as y,k,w as l,G as B,F as w,i as O,j as h,v as _,H as G,I as J,J as Q,p as L,m as W}from"./index-56bca0b2.js";import{A as X,a as Y}from"./AppleOutlined-93516e17.js";import{S as Z}from"./SmileOutlined-bfaaf970.js";var K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};const ee=K;function T(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),i.forEach(function(s){te(e,s,n[s])})}return e}function te(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}var b=function(a,n){var i=T({},a,n.attrs);return g(N,T({},i,{icon:ee}),null)};b.displayName="SyncOutlined";b.inheritAttrs=!1;const ae=b;function ne(e){return new Intl.DateTimeFormat("pt-BR").format(new Date(e))}const oe={1:{color:"default",icon:null,text:"Pendente"},2:{color:"processing",icon:ae,text:"Instalação Pendente"},3:{color:"success",icon:E,text:"Finalizado"},4:{color:"error",icon:F,text:"Negado"},5:{color:"warning",icon:P,text:"Cancelado"}};function ie(e){return oe[e]}const se=q({name:"Orders",props:{clientId:{type:String},viaClientScreen:{type:Boolean,required:!0}},components:{AppleOutlined:X,AndroidOutlined:Y,SmileOutlined:Z,"a-table":R},setup(e){const{goBack:a}=A(),n=S(["5","10","20","40","50"]),i=S(0),s=S([]),m=S(!1),{clientId:f,viaClientScreen:I}=$(e),o=S({page:1,pageSize:10}),C=[{title:"Status",dataIndex:"orderStatus",width:"10%"},{title:"Cliente",dataIndex:"client",width:"15%"},{title:"Nome",dataIndex:"requesterName",width:"25%"},{title:"Email",dataIndex:"requesterEmail",width:"20%"},{title:"Data da Solicitação",dataIndex:"requestDate",width:"10%"},{title:"Quantidade",dataIndex:"quantityRequested",width:"10%"},{title:"Ações",dataIndex:"actions",width:"10%"}],v=async()=>{var d;m.value=!0;const u={...o.value};f.value&&(u.clientId=f.value);try{const t=await M.get("/orders",{params:u});s.value=t.data.data,o.value.page=t.data.page,o.value.pageSize=t.data.pageSize,i.value=t.data.totalRecords}catch(t){let D=(d=t==null?void 0:t.response)==null?void 0:d.data;H(D)}finally{m.value=!1}};return j(v),V(o,v,{deep:!0}),{goBack:a,data:s,loading:m,pagination:o,columns:C,onShowSizeChange:(u,d)=>{o.value.page=u,o.value.pageSize=d,d!==(o==null?void 0:o.value.pageSize)&&(s.value=[])},pageSizeOptions:n,totalRecords:i,formatStringDateToBR:ne,getTagForOrderStatus:ie}}});const re=e=>(L("data-v-10801749"),e=e(),W(),e),le={style:{"text-align":"center",padding:"25px"}},de=re(()=>O("p",null,"Nada encontrado",-1));function ce(e,a,n,i,s,m){const f=r("a-page-header"),I=r("smile-outlined"),o=r("a-tag"),C=r("a-button"),v=r("a-table"),x=r("a-config-provider"),u=r("a-pagination"),d=r("a-layout-content");return c(),z(w,null,[e.viaClientScreen?k("",!0):(c(),y(f,{key:0,class:"pageHeader",title:"Pedidos","sub-title":"Analise os pedidos",onBack:e.goBack},null,8,["onBack"])),g(d,{style:B(e.viaClientScreen?{}:{margin:"10px 16px 25px"})},{default:l(()=>[O("div",{style:B(e.viaClientScreen?{}:{padding:"20px",background:"#fff"}),class:Q({content:!e.viaClientScreen})},[g(x,null,{renderEmpty:l(()=>[O("div",le,[g(I,{style:{"font-size":"20px"}}),de])]),default:l(()=>[g(v,{columns:e.columns,"data-source":e.data,pagination:!1,loading:e.loading,size:"small"},{bodyCell:l(({column:t,text:D,record:p})=>[t.dataIndex==="requestDate"?(c(),z(w,{key:0},[h(_(e.formatStringDateToBR(p.requestDate)),1)],64)):t.dataIndex==="client"?(c(),z(w,{key:1},[h(_(p.clientApp.bussinessName),1)],64)):t.dataIndex==="orderStatus"?(c(),y(o,{key:2,color:e.getTagForOrderStatus(p.orderStatus).color},G({default:l(()=>[h(" "+_(e.getTagForOrderStatus(p.orderStatus).text),1)]),_:2},[e.getTagForOrderStatus(p.orderStatus).icon?{name:"icon",fn:l(()=>[(c(),y(J(e.getTagForOrderStatus(p.orderStatus).icon)))]),key:"0"}:void 0]),1032,["color"])):t.dataIndex==="actions"?(c(),y(C,{key:3},{default:l(()=>[h("Ver Pedido")]),_:1})):k("",!0)]),_:1},8,["columns","data-source","loading"])]),_:1}),g(u,{current:e.pagination.page,"onUpdate:current":a[0]||(a[0]=t=>e.pagination.page=t),pageSize:e.pagination.pageSize,"onUpdate:pageSize":a[1]||(a[1]=t=>e.pagination.pageSize=t),"page-size-options":e.pageSizeOptions,"show-size-changer":"",total:e.totalRecords,onShowSizeChange:e.onShowSizeChange,style:{"text-align":"right",margin:"25px 0 15px 0"}},{buildOptionText:l(t=>[O("span",null,_(t.value)+"/pág",1)]),_:1},8,["current","pageSize","page-size-options","total","onShowSizeChange"])],6)]),_:1},8,["style"])],64)}const me=U(se,[["render",ce],["__scopeId","data-v-10801749"]]);export{me as default};
