import{a as v}from"./axios-21b846bc.js";import{T as S,f as _,g as C,s as w,t as k,_ as T,r as d,o as m,c as f,a as p,w as h,F as x,b as F,e as I,v as y,l as N}from"./index-305db2e2.js";const z={name:"AjaxTable",components:{"a-table":S},setup(){const s=_([]),l=_(!1),e=C({pagination:{current:1,pageSize:10},sorter:{}}),o=[{title:"Name",dataIndex:"name",sorter:!0,width:"20%"},{title:"Gender",dataIndex:"gender",filters:[{text:"Male",value:"male"},{text:"Female",value:"female"}],width:"20%"},{title:"Email",dataIndex:"email"}],i=async()=>{var a,t;l.value=!0;try{const n=await v.get("https://randomuser.me/api?",{params:{results:(a=e.pagination)==null?void 0:a.pageSize,page:(t=e.pagination)==null?void 0:t.current,...e}});s.value=n.data.results,e.pagination.total=200}catch(n){console.error("Failed to fetch data:",n)}finally{l.value=!1}};return w(i),k(()=>e,i,{deep:!0}),{data:s,loading:l,tableParams:e,columns:o,handleTableChange:(a,t)=>{var r,u,g;e.pagination=a;let n=c(t);e.sorter.sorterField=(r=n.field)==null?void 0:r.toString(),e.sorter.sorterOrder=(u=n.order)==null?void 0:u.toString(),a.pageSize!==((g=e.pagination)==null?void 0:g.pageSize)&&(s.value=[])}};function c(a){let t;return Array.isArray(a)?t=a[0]:t=a,t}}};const B={style:{padding:"20px",background:"#fff"},class:"content"};function E(s,l,e,o,i,b){const c=d("a-page-header"),a=d("a-table"),t=d("a-layout-content");return m(),f(x,null,[p(c,{class:"pageHeader",title:"Usuários","sub-title":"Gerencie os Usuários por aqui",onBack:()=>null}),p(t,{style:{margin:"10px 16px 25px"}},{default:h(()=>[F("div",B,[p(a,{columns:o.columns,"row-key":n=>n.login.uuid,"data-source":o.data,pagination:o.tableParams.pagination,loading:o.loading,onChange:o.handleTableChange},{bodyCell:h(({column:n,text:r})=>[n.dataIndex==="name"?(m(),f(x,{key:0},[I(y(r.first)+" "+y(r.last),1)],64)):N("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})],64)}const A=T(z,[["render",E],["__scopeId","data-v-8510a3dc"]]);export{A as default};
