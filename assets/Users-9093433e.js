import{u as B}from"./useNavigation-7fd3c0b2.js";import{d as E,q as I,t as N,D as U,r as d,y as q,z as A,e as R,n as V,_ as $,g as s,o as f,h as D,l as h,k as y,c as g,w as c,G as C,F as O,i as w,j as T,v as j,J as F}from"./index-56bca0b2.js";const G=E({name:"Users",props:{clientId:{type:String},viaClientScreen:{type:Boolean,required:!0}},setup(e){const{goBack:o}=B(),_=I(),z=N(()=>_.state.isAdmin),{clientId:m,viaClientScreen:k}=U(e),u=d(0),S=[{title:"Nome",dataIndex:"firstName",width:"25%"},{title:"Sobrenome",dataIndex:"lastName",width:"25%"},{title:"Email",dataIndex:"userEmail",width:"25%"},{title:"Ações",dataIndex:"actions",width:"25%"}],v=d(["5","10","20","40","50"]),i=d([]),l=d(!1),a=d({page:1,pageSize:10}),t=async()=>{var p;l.value=!0;const r={...a.value};m.value&&(r.clientId=m.value||void 0);try{const n=await R.get("/users",{params:r});i.value=n.data.data,a.value.page=n.data.page,a.value.pageSize=n.data.pageSize,u.value=n.data.totalRecords}catch(n){let b=(p=n==null?void 0:n.response)==null?void 0:p.data;V(b)}finally{l.value=!1}};return q(t),A(a,t,{deep:!0}),{goBack:o,data:i,loading:l,pagination:a,columns:S,onShowSizeChange:(r,p)=>{a.value.page=r,a.value.pageSize=p,p!==(a==null?void 0:a.value.pageSize)&&(i.value=[])},pageSizeOptions:v,totalRecords:u,isAdmin:z}}});function M(e,o,_,z,m,k){const u=s("a-page-header"),S=s("a-button"),v=s("a-popconfirm"),i=s("a-table"),l=s("a-pagination"),a=s("a-layout-content");return f(),D(O,null,[e.viaClientScreen?y("",!0):(f(),h(u,{key:0,class:"pageHeader",title:"Usuários","sub-title":"Gerencie os Usuários por aqui",onBack:e.goBack},null,8,["onBack"])),g(a,{style:C(e.viaClientScreen?{}:{margin:"10px 16px 25px"})},{default:c(()=>[w("div",{style:C(e.viaClientScreen?{}:{padding:"20px",background:"#fff"}),class:F({content:!e.viaClientScreen})},[g(i,{columns:e.columns,"data-source":e.data,pagination:!1,loading:e.loading,size:"small"},{bodyCell:c(({column:t,text:x,record:r})=>[t.dataIndex==="actions"&&e.isAdmin?(f(),h(v,{key:0,title:"Tem certeza que deseja excluir esse usuário?"},{default:c(()=>[g(S,null,{default:c(()=>[T("Excluir")]),_:1})]),_:1})):y("",!0)]),_:1},8,["columns","data-source","loading"]),g(l,{current:e.pagination.page,"onUpdate:current":o[0]||(o[0]=t=>e.pagination.page=t),pageSize:e.pagination.pageSize,"onUpdate:pageSize":o[1]||(o[1]=t=>e.pagination.pageSize=t),"page-size-options":e.pageSizeOptions,"show-size-changer":"",total:e.totalRecords,onShowSizeChange:e.onShowSizeChange,style:{"text-align":"right",margin:"25px 0 15px 0"}},{buildOptionText:c(t=>[w("span",null,j(t.value)+"/pág",1)]),_:1},8,["current","pageSize","page-size-options","total","onShowSizeChange"])],6)]),_:1},8,["style"])],64)}const K=$(G,[["render",M],["__scopeId","data-v-d28809de"]]);export{K as default};
