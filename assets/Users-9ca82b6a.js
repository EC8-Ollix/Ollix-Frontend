import{u as k}from"./useNavigation-d7a3aa2b.js";import{d as B,q as I,t as N,R as E,r,B as x,D as U,e as b,n as R,_ as O,g as s,o as z,h as $,l as D,k as V,c as d,w as g,Z as y,F as q,i as m,v as A,a0 as F,p as M,m as H}from"./index-5c24c211.js";import{S as T}from"./SmileOutlined-75088749.js";const Z=B({name:"Users",components:{SmileOutlined:T},props:{clientId:{type:String},viaClientScreen:{type:Boolean,required:!0}},setup(e){const{goBack:o}=k(),f=I(),h=N(()=>f.state.isAdmin),{clientId:S,viaClientScreen:C}=E(e),c=r(0),v=[{title:"Nome",dataIndex:"firstName",width:"33%"},{title:"Sobrenome",dataIndex:"lastName",width:"33%"},{title:"Email",dataIndex:"userEmail",width:"33%"}],_=r(["5","10","20","40","50"]),i=r([]),l=r(!1),a=r({page:1,pageSize:10}),t=async()=>{var p;l.value=!0;const u={...a.value};S.value&&(u.clientId=S.value||void 0);try{const n=await b.get("/users",{params:u});i.value=n.data.data,a.value.page=n.data.page,a.value.pageSize=n.data.pageSize,c.value=n.data.totalRecords}catch(n){let w=(p=n==null?void 0:n.response)==null?void 0:p.data;R(w)}finally{l.value=!1}};return x(t),U(a,t,{deep:!0}),{goBack:o,data:i,loading:l,pagination:a,columns:v,onShowSizeChange:(u,p)=>{a.value.page=u,a.value.pageSize=p,p!==(a==null?void 0:a.value.pageSize)&&(i.value=[])},pageSizeOptions:_,totalRecords:c,isAdmin:h}}});const j=e=>(M("data-v-968e4843"),e=e(),H(),e),G={style:{"text-align":"center",padding:"25px"}},J=j(()=>m("p",null,"Nada encontrado",-1));function K(e,o,f,h,S,C){const c=s("a-page-header"),v=s("smile-outlined"),_=s("a-table"),i=s("a-config-provider"),l=s("a-pagination"),a=s("a-layout-content");return z(),$(q,null,[e.viaClientScreen?V("",!0):(z(),D(c,{key:0,class:"pageHeader",title:"Usuários",onBack:e.goBack},null,8,["onBack"])),d(a,{style:y(e.viaClientScreen?{}:{margin:"10px 16px 25px"})},{default:g(()=>[m("div",{style:y(e.viaClientScreen?{}:{padding:"20px",background:"#fff"}),class:F({content:!e.viaClientScreen})},[d(i,null,{renderEmpty:g(()=>[m("div",G,[d(v,{style:{"font-size":"20px"}}),J])]),default:g(()=>[d(_,{columns:e.columns,"data-source":e.data,pagination:!1,loading:e.loading,size:"small"},null,8,["columns","data-source","loading"])]),_:1}),d(l,{current:e.pagination.page,"onUpdate:current":o[0]||(o[0]=t=>e.pagination.page=t),pageSize:e.pagination.pageSize,"onUpdate:pageSize":o[1]||(o[1]=t=>e.pagination.pageSize=t),"page-size-options":e.pageSizeOptions,"show-size-changer":"",total:e.totalRecords,onShowSizeChange:e.onShowSizeChange,style:{"text-align":"right",margin:"25px 0 15px 0"}},{buildOptionText:g(t=>[m("span",null,A(t.value)+"/pág",1)]),_:1},8,["current","pageSize","page-size-options","total","onShowSizeChange"])],6)]),_:1},8,["style"])],64)}const X=O(Z,[["render",K],["__scopeId","data-v-968e4843"]]);export{X as default};
