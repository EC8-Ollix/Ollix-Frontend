import{u as k}from"./useNavigation-8727155d.js";import{d as I,q as b,t as B,J as E,r,y as N,z as x,e as U,n as O,_ as R,g as s,o as z,h as $,l as q,k as V,c as d,w as g,L as y,F as A,i as m,v as D,O as F,p as M,m as G}from"./index-b8c5aaf6.js";import{S as H}from"./SmileOutlined-e43e89f6.js";const J=I({name:"Users",components:{SmileOutlined:H},props:{clientId:{type:String},viaClientScreen:{type:Boolean,required:!0}},setup(e){const{goBack:o}=k(),_=b(),h=B(()=>_.state.isAdmin),{clientId:S,viaClientScreen:C}=E(e),c=r(0),v=[{title:"Nome",dataIndex:"firstName",width:"33%"},{title:"Sobrenome",dataIndex:"lastName",width:"33%"},{title:"Email",dataIndex:"userEmail",width:"33%"}],f=r(["5","10","20","40","50"]),i=r([]),l=r(!1),a=r({page:1,pageSize:10}),t=async()=>{var p;l.value=!0;const u={...a.value};S.value&&(u.clientId=S.value||void 0);try{const n=await U.get("/users",{params:u});i.value=n.data.data,a.value.page=n.data.page,a.value.pageSize=n.data.pageSize,c.value=n.data.totalRecords}catch(n){let w=(p=n==null?void 0:n.response)==null?void 0:p.data;O(w)}finally{l.value=!1}};return N(t),x(a,t,{deep:!0}),{goBack:o,data:i,loading:l,pagination:a,columns:v,onShowSizeChange:(u,p)=>{a.value.page=u,a.value.pageSize=p,p!==(a==null?void 0:a.value.pageSize)&&(i.value=[])},pageSizeOptions:f,totalRecords:c,isAdmin:h}}});const L=e=>(M("data-v-6d633feb"),e=e(),G(),e),T={style:{"text-align":"center",padding:"25px"}},j=L(()=>m("p",null,"Nada encontrado",-1));function K(e,o,_,h,S,C){const c=s("a-page-header"),v=s("smile-outlined"),f=s("a-table"),i=s("a-config-provider"),l=s("a-pagination"),a=s("a-layout-content");return z(),$(A,null,[e.viaClientScreen?V("",!0):(z(),q(c,{key:0,class:"pageHeader",title:"Usuários","sub-title":"Gerencie os Usuários por aqui",onBack:e.goBack},null,8,["onBack"])),d(a,{style:y(e.viaClientScreen?{}:{margin:"10px 16px 25px"})},{default:g(()=>[m("div",{style:y(e.viaClientScreen?{}:{padding:"20px",background:"#fff"}),class:F({content:!e.viaClientScreen})},[d(i,null,{renderEmpty:g(()=>[m("div",T,[d(v,{style:{"font-size":"20px"}}),j])]),default:g(()=>[d(f,{columns:e.columns,"data-source":e.data,pagination:!1,loading:e.loading,size:"small"},null,8,["columns","data-source","loading"])]),_:1}),d(l,{current:e.pagination.page,"onUpdate:current":o[0]||(o[0]=t=>e.pagination.page=t),pageSize:e.pagination.pageSize,"onUpdate:pageSize":o[1]||(o[1]=t=>e.pagination.pageSize=t),"page-size-options":e.pageSizeOptions,"show-size-changer":"",total:e.totalRecords,onShowSizeChange:e.onShowSizeChange,style:{"text-align":"right",margin:"25px 0 15px 0"}},{buildOptionText:g(t=>[m("span",null,D(t.value)+"/pág",1)]),_:1},8,["current","pageSize","page-size-options","total","onShowSizeChange"])],6)]),_:1},8,["style"])],64)}const Y=R(J,[["render",K],["__scopeId","data-v-6d633feb"]]);export{Y as default};
