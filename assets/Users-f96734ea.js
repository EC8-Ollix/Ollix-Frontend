import{T as v,r as _,a as S,x as C,y as k,z as w,_ as T,h as c,o as m,i as f,c as p,w as h,F as x,j as F,k as z,t as y,l as I}from"./index-c710ad7e.js";const N={name:"AjaxTable",components:{"a-table":v},setup(){const s=_([]),r=_(!1),e=S({pagination:{current:1,pageSize:10},sorter:{}}),o=[{title:"Name",dataIndex:"name",sorter:!0,width:"20%"},{title:"Gender",dataIndex:"gender",filters:[{text:"Male",value:"male"},{text:"Female",value:"female"}],width:"20%"},{title:"Email",dataIndex:"email"}],i=async()=>{var a,t;r.value=!0;try{const n=await w.get("https://randomuser.me/api?",{params:{results:(a=e.pagination)==null?void 0:a.pageSize,page:(t=e.pagination)==null?void 0:t.current,...e}});s.value=n.data.results,e.pagination.total=200}catch(n){console.error("Failed to fetch data:",n)}finally{r.value=!1}};return C(i),k(()=>e,i,{deep:!0}),{data:s,loading:r,tableParams:e,columns:o,handleTableChange:(a,t)=>{var l,u,g;e.pagination=a;let n=d(t);e.sorter.sorterField=(l=n.field)==null?void 0:l.toString(),e.sorter.sorterOrder=(u=n.order)==null?void 0:u.toString(),a.pageSize!==((g=e.pagination)==null?void 0:g.pageSize)&&(s.value=[])}};function d(a){let t;return Array.isArray(a)?t=a[0]:t=a,t}}};const B={style:{padding:"20px",background:"#fff"},class:"content"};function E(s,r,e,o,i,b){const d=c("a-page-header"),a=c("a-table"),t=c("a-layout-content");return m(),f(x,null,[p(d,{class:"pageHeader",title:"Usuários","sub-title":"Gerencie os Usuários por aqui",onBack:r[0]||(r[0]=()=>s.$router.go(-1))}),p(t,{style:{margin:"10px 16px 25px"}},{default:h(()=>[F("div",B,[p(a,{columns:o.columns,"row-key":n=>n.login.uuid,"data-source":o.data,pagination:o.tableParams.pagination,loading:o.loading,onChange:o.handleTableChange},{bodyCell:h(({column:n,text:l})=>[n.dataIndex==="name"?(m(),f(x,{key:0},[z(y(l.first)+" "+y(l.last),1)],64)):I("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})],64)}const V=T(N,[["render",E],["__scopeId","data-v-5f23ddef"]]);export{V as default};
